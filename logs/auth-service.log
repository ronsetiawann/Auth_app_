2025-11-04 01:02:15 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h22m5s297ms).
2025-11-04 02:40:29 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h38m13s640ms).
2025-11-04 04:04:38 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h24m9s316ms).
2025-11-04 05:24:46 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h20m8s55ms).
2025-11-04 06:28:00 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h3m13s730ms).
2025-11-04 07:05:32 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=37m32s511ms).
2025-11-04 07:42:56 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-04 07:42:56 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-04 07:42:56 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 07:42:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-04 07:42:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-04 07:43:00 [main] INFO  c.strade.auth_app.AuthAppApplication - Starting AuthAppApplication using Java 21.0.4 with PID 31601 (/Users/ronz/Downloads/auth-app 2/target/classes started by ronz in /Users/ronz/Downloads/auth-app 2)
2025-11-04 07:43:00 [main] INFO  c.strade.auth_app.AuthAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 07:43:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-04 07:43:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 07:43:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 147 ms. Found 15 JPA repository interfaces.
2025-11-04 07:43:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-04 07:43:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-04 07:43:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.AccessTokenDenyJtiRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 07:43:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.AuthEventLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 07:43:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.BridgingClientUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 07:43:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 07:43:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.KeyStoreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 07:43:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.LogLoginRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 07:43:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.LoginShadowRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 07:43:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.NotificationQueueRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 07:43:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.OtpChallengeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 07:43:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.RefreshTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 07:43:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.SessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 07:43:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.TrustedDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 07:43:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.UserMfaBackupCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 07:43:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.UserMfaRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 07:43:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 07:43:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-11-04 07:43:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8099 (http)
2025-11-04 07:43:02 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 07:43:02 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-04 07:43:02 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 07:43:02 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2143 ms
2025-11-04 07:43:03 [main] INFO  c.s.a.config.JwtKeyConfiguration - ðŸ”‘ Loading private key from: classpath:keys/private_key.pem
2025-11-04 07:43:03 [main] INFO  c.s.auth_app.security.jwt.KeyManager - Loading private key from resource: classpath:keys/private_key.pem
2025-11-04 07:43:03 [main] INFO  c.s.a.config.JwtKeyConfiguration - ðŸ”‘ Loading public key from: classpath:keys/public_key.pem
2025-11-04 07:43:03 [main] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: classpath:keys/public_key.pem
2025-11-04 07:43:03 [main] INFO  c.s.a.config.JwtKeyConfiguration - âœ… KeyManager bean created with RSA key pair
2025-11-04 07:43:03 [main] INFO  c.s.auth_app.security.jwt.KeyManager - KeyManager initialized with RSA key pair
2025-11-04 07:43:03 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 07:43:03 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-11-04 07:43:03 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 07:43:03 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 07:43:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-04 07:43:04 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 90db2f02-9c60-4fd6-b90a-89239dc4ba84
2025-11-04 07:43:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-04 07:43:04 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 10.0.0 version for [org.hibernate.dialect.SQLServerDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 11.0.0. Check the community dialects project for available legacy versions.
2025-11-04 07:43:04 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 07:43:04 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 07:43:05 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 07:43:05 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 07:43:05 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-04 07:43:07 [main] INFO  c.s.a.r.p.i.DeviceProcedureRepositoryImpl - ðŸ”§ Initializing DeviceProcedureRepository stored procedure calls
2025-11-04 07:43:07 [main] INFO  c.s.a.r.p.i.DeviceProcedureRepositoryImpl - âœ… DeviceProcedureRepository initialized successfully
2025-11-04 07:43:07 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-04 07:43:07 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-04 07:43:07 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-11-04 07:43:08 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestLoggingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-04 07:43:08 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8099 (http) with context path '/'
2025-11-04 07:43:08 [main] INFO  c.strade.auth_app.AuthAppApplication - Started AuthAppApplication in 8.668 seconds (process running for 9.114)
2025-11-04 07:43:28 [http-nio-8099-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-04 07:43:28 [http-nio-8099-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-04 07:43:28 [http-nio-8099-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-11-04 07:43:28 [http-nio-8099-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/transaction/otp/send
2025-11-04 07:43:28 [http-nio-8099-exec-1] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 07:43:28 [http-nio-8099-exec-1] WARN  c.s.a.security.jwt.JwtValidator - Token expired: JWT expired 20505661 milliseconds ago at 2025-11-03T19:01:43.000Z. Current time: 2025-11-04T00:43:28.661Z. Allowed clock skew: 0 milliseconds.
2025-11-04 07:43:28 [http-nio-8099-exec-1] WARN  c.s.a.s.f.JwtAuthenticationFilter - Token validation failed: Token has expired
2025-11-04 07:43:28 [http-nio-8099-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 07:43:28 [http-nio-8099-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/transaction/otp/send
2025-11-04 07:43:28 [http-nio-8099-exec-1] INFO  c.s.a.c.TransactionOtpController - Transaction OTP send request: purpose=withdrawal, reference=test
2025-11-04 07:43:28 [http-nio-8099-exec-1] INFO  c.s.a.service.TransactionOtpService - Sending transaction OTP: userId=VT0101, purpose=withdrawal, reference=test
2025-11-04 07:43:29 [http-nio-8099-exec-1] WARN  c.s.a.service.TransactionOtpService - Phone number not found for clientId=null, skipping WhatsApp send
2025-11-04 07:43:29 [http-nio-8099-exec-1] INFO  c.s.a.r.p.i.MfaProcedureRepositoryImpl - OTP challenge created: 3F9E6E4C-0B3F-43EC-BE89-AE93B8BB55EE
2025-11-04 07:43:29 [http-nio-8099-exec-1] INFO  c.s.a.service.TransactionOtpService - Transaction OTP challenge created: challengeId=3f9e6e4c-0b3f-43ec-be89-ae93b8bb55ee
2025-11-04 07:43:29 [http-nio-8099-exec-1] INFO  c.s.a.service.TransactionOtpService - WhatsApp send skipped due to missing phone number: challengeId=3f9e6e4c-0b3f-43ec-be89-ae93b8bb55ee
2025-11-04 07:43:29 [http-nio-8099-exec-1] INFO  c.strade.auth_app.config.AsyncConfig - Async executor initialized: corePoolSize=5, maxPoolSize=10
2025-11-04 07:43:29 [http-nio-8099-exec-1] INFO  c.s.a.c.TransactionOtpController - Transaction OTP sent successfully: challengeId=3f9e6e4c-0b3f-43ec-be89-ae93b8bb55ee
2025-11-04 07:43:29 [http-nio-8099-exec-1] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/transaction/otp/send - Status: 200 - Duration: 676ms
2025-11-04 07:43:45 [http-nio-8099-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/transaction/otp/verify
2025-11-04 07:43:45 [http-nio-8099-exec-3] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 07:43:45 [http-nio-8099-exec-3] WARN  c.s.a.security.jwt.JwtValidator - Token expired: JWT expired 20522065 milliseconds ago at 2025-11-03T19:01:43.000Z. Current time: 2025-11-04T00:43:45.065Z. Allowed clock skew: 0 milliseconds.
2025-11-04 07:43:45 [http-nio-8099-exec-3] WARN  c.s.a.s.f.JwtAuthenticationFilter - Token validation failed: Token has expired
2025-11-04 07:43:45 [http-nio-8099-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 07:43:45 [http-nio-8099-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/transaction/otp/verify
2025-11-04 07:43:45 [http-nio-8099-exec-3] INFO  c.s.a.c.TransactionOtpController - Transaction OTP verification request: challengeId=3f9e6e4c-0b3f-43ec-be89-ae93b8bb55ee
2025-11-04 07:43:45 [http-nio-8099-exec-3] INFO  c.s.a.service.TransactionOtpService - Verifying transaction OTP: challengeId=3f9e6e4c-0b3f-43ec-be89-ae93b8bb55ee
2025-11-04 07:43:45 [http-nio-8099-exec-3] INFO  c.s.a.r.p.i.MfaProcedureRepositoryImpl - OTP challenge verified successfully: challengeId=3f9e6e4c-0b3f-43ec-be89-ae93b8bb55ee
2025-11-04 07:43:45 [http-nio-8099-exec-3] INFO  c.s.a.service.TransactionOtpService - Transaction OTP verified successfully: challengeId=3f9e6e4c-0b3f-43ec-be89-ae93b8bb55ee
2025-11-04 07:43:45 [http-nio-8099-exec-3] INFO  c.s.a.c.TransactionOtpController - Transaction OTP verified successfully: challengeId=3f9e6e4c-0b3f-43ec-be89-ae93b8bb55ee
2025-11-04 07:43:45 [http-nio-8099-exec-3] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/transaction/otp/verify - Status: 200 - Duration: 145ms
2025-11-04 08:16:03 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=32m29s627ms).
2025-11-04 09:03:42 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=47m39s56ms).
2025-11-04 09:21:48 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=18m5s567ms).
2025-11-04 09:54:40 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=32m52s68ms).
2025-11-04 09:56:38 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m57s765ms).
2025-11-04 09:59:19 [http-nio-8099-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/auth/login
2025-11-04 09:59:19 [http-nio-8099-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 09:59:19 [http-nio-8099-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/auth/login
2025-11-04 09:59:20 [http-nio-8099-exec-5] INFO  c.s.a.controller.AuthController - Login request: userId=VT0102, channel=WEB
2025-11-04 09:59:22 [http-nio-8099-exec-5] INFO  c.s.auth_app.service.AuthService - Login attempt: userId=VT0102, channel=WEB
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - === SelectUser_Logon Parameters ===
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - UserId: VT0102
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - Password: ***
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - Channel: WEB
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - AppVersion: 1.1.0.8
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - ServerNo: 1
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - TerminalId: |04720149-9d2f-48|WB
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - AppCode: IDXM02
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - DeviceId: DEV-WEB-12345
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - UserAgent: PostmanRuntime/7.49.1
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MfaEnforced: true
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MinLoginHour: 1
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MinLoginMinute: 0
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - ====================================
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - === Raw SP Result ===
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - Key: #result-set-1 = [{IsLoginSucces=true, LoginMessage=, ErrCode=0, DBVersion=, Channel=WEB, SessionId=7A8F3DA3-5F09-4379-86F2-46D7FB22F976, Kid=strade-key-2025-001, MfaRequired=0, MyToken=7A8F3DA3-5F09-4379-86F2-46D7FB22F976}]
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl -   â””â”€ List size: 1
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - =====================
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - === Extracted Data ===
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - IsLoginSucces = true
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - LoginMessage = 
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - ErrCode = 0
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - DBVersion = 
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - Channel = WEB
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - SessionId = 7A8F3DA3-5F09-4379-86F2-46D7FB22F976
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - Kid = strade-key-2025-001
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MfaRequired = 0
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MyToken = 7A8F3DA3-5F09-4379-86F2-46D7FB22F976
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - ======================
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - === Mapped Result ===
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - IsLoginSuccess: true
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - LoginMessage: null
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - ErrCode: 0
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - SessionId: 7a8f3da3-5f09-4379-86f2-46d7fb22f976
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MfaRequired: false
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - =====================
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.auth_app.service.AuthService - MFA not required for userId: VT0102 - trusted device
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.auth_app.service.AuthService - Login successful for userId: VT0102 (no MFA required)
2025-11-04 09:59:25 [http-nio-8099-exec-5] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/auth/login - Status: 200 - Duration: 5829ms
2025-11-04 09:59:33 [http-nio-8099-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/v1/devices
2025-11-04 09:59:33 [http-nio-8099-exec-7] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 09:59:33 [http-nio-8099-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/v1/devices
2025-11-04 09:59:33 [http-nio-8099-exec-7] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: GET /api/v1/devices - Status: 200 - Duration: 39ms
2025-11-04 09:59:48 [http-nio-8099-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/v1/devices
2025-11-04 09:59:48 [http-nio-8099-exec-8] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 09:59:48 [http-nio-8099-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/v1/devices
2025-11-04 09:59:48 [http-nio-8099-exec-8] INFO  c.s.a.controller.DeviceController - Untrust device: userId=VT0102, deviceId=DEV-12345
2025-11-04 09:59:48 [http-nio-8099-exec-8] INFO  c.s.auth_app.service.DeviceService - Untrusting device: userId=VT0102, deviceId=DEV-12345
2025-11-04 09:59:48 [http-nio-8099-exec-8] INFO  c.s.a.r.p.i.DeviceProcedureRepositoryImpl - âœ… Device untrusted successfully for user: VT0102
2025-11-04 09:59:48 [http-nio-8099-exec-8] INFO  c.s.auth_app.service.DeviceService - Device untrusted successfully
2025-11-04 09:59:48 [http-nio-8099-exec-8] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: DELETE /api/v1/devices - Status: 200 - Duration: 90ms
2025-11-04 09:59:53 [http-nio-8099-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/v1/devices
2025-11-04 09:59:53 [http-nio-8099-exec-9] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 09:59:53 [http-nio-8099-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/v1/devices
2025-11-04 09:59:53 [http-nio-8099-exec-9] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: GET /api/v1/devices - Status: 200 - Duration: 17ms
2025-11-04 09:59:54 [http-nio-8099-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/v1/devices
2025-11-04 09:59:55 [http-nio-8099-exec-10] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 09:59:55 [http-nio-8099-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/v1/devices
2025-11-04 09:59:55 [http-nio-8099-exec-10] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: GET /api/v1/devices - Status: 200 - Duration: 19ms
2025-11-04 09:59:55 [http-nio-8099-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/v1/devices
2025-11-04 09:59:55 [http-nio-8099-exec-2] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 09:59:56 [http-nio-8099-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/v1/devices
2025-11-04 09:59:56 [http-nio-8099-exec-2] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: GET /api/v1/devices - Status: 200 - Duration: 41ms
2025-11-04 09:59:56 [http-nio-8099-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/v1/devices
2025-11-04 09:59:56 [http-nio-8099-exec-1] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 09:59:56 [http-nio-8099-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/v1/devices
2025-11-04 09:59:56 [http-nio-8099-exec-1] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: GET /api/v1/devices - Status: 200 - Duration: 22ms
2025-11-04 10:00:01 [http-nio-8099-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/v1/devices
2025-11-04 10:00:01 [http-nio-8099-exec-3] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 10:00:01 [http-nio-8099-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/v1/devices
2025-11-04 10:00:01 [http-nio-8099-exec-3] INFO  c.s.a.controller.DeviceController - Untrust device: userId=VT0102, deviceId=DEV-12345
2025-11-04 10:00:01 [http-nio-8099-exec-3] INFO  c.s.auth_app.service.DeviceService - Untrusting device: userId=VT0102, deviceId=DEV-12345
2025-11-04 10:00:01 [http-nio-8099-exec-3] INFO  c.s.a.r.p.i.DeviceProcedureRepositoryImpl - âœ… Device untrusted successfully for user: VT0102
2025-11-04 10:00:01 [http-nio-8099-exec-3] INFO  c.s.auth_app.service.DeviceService - Device untrusted successfully
2025-11-04 10:00:01 [http-nio-8099-exec-3] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: DELETE /api/v1/devices - Status: 200 - Duration: 41ms
2025-11-04 10:00:10 [http-nio-8099-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/v1/devices
2025-11-04 10:00:10 [http-nio-8099-exec-4] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 10:00:10 [http-nio-8099-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/v1/devices
2025-11-04 10:00:10 [http-nio-8099-exec-4] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: GET /api/v1/devices - Status: 200 - Duration: 23ms
2025-11-04 10:00:16 [http-nio-8099-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing DELETE /api/v1/devices/all
2025-11-04 10:00:16 [http-nio-8099-exec-6] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 10:00:16 [http-nio-8099-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured DELETE /api/v1/devices/all
2025-11-04 10:00:16 [http-nio-8099-exec-6] INFO  c.s.a.controller.DeviceController - Untrust all devices: userId=VT0102
2025-11-04 10:00:16 [http-nio-8099-exec-6] INFO  c.s.auth_app.service.DeviceService - Untrusting all devices for user: VT0102
2025-11-04 10:00:17 [http-nio-8099-exec-6] INFO  c.s.a.r.p.i.DeviceProcedureRepositoryImpl - âœ… All devices untrusted successfully for user: VT0102
2025-11-04 10:00:17 [http-nio-8099-exec-6] INFO  c.s.auth_app.service.DeviceService - All devices untrusted successfully
2025-11-04 10:00:17 [http-nio-8099-exec-6] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: DELETE /api/v1/devices/all - Status: 200 - Duration: 235ms
2025-11-04 10:00:24 [http-nio-8099-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/auth/logout
2025-11-04 10:00:24 [http-nio-8099-exec-5] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 10:00:24 [http-nio-8099-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/auth/logout
2025-11-04 10:00:24 [http-nio-8099-exec-5] INFO  c.s.a.controller.AuthController - Logout request: sessionId=7a8f3da3-5f09-4379-86f2-46d7fb22f976
2025-11-04 10:00:24 [http-nio-8099-exec-5] INFO  c.s.auth_app.service.AuthService - Logout: sessionId=7a8f3da3-5f09-4379-86f2-46d7fb22f976
2025-11-04 10:00:24 [http-nio-8099-exec-5] INFO  c.s.auth_app.service.AuthService - Logout successful: sessionId=7a8f3da3-5f09-4379-86f2-46d7fb22f976
2025-11-04 10:00:24 [http-nio-8099-exec-5] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/auth/logout - Status: 200 - Duration: 94ms
2025-11-04 10:00:28 [http-nio-8099-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/auth/login
2025-11-04 10:00:28 [http-nio-8099-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 10:00:28 [http-nio-8099-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/auth/login
2025-11-04 10:00:28 [http-nio-8099-exec-7] INFO  c.s.a.controller.AuthController - Login request: userId=VT0102, channel=WEB
2025-11-04 10:00:30 [http-nio-8099-exec-7] INFO  c.s.auth_app.service.AuthService - Login attempt: userId=VT0102, channel=WEB
2025-11-04 10:00:38 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - === SelectUser_Logon Parameters ===
2025-11-04 10:00:39 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - UserId: VT0102
2025-11-04 10:00:39 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - Password: ***
2025-11-04 10:00:39 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - Channel: WEB
2025-11-04 10:00:39 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - AppVersion: 1.1.0.8
2025-11-04 10:00:40 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - ServerNo: 1
2025-11-04 10:00:40 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - TerminalId: |04720149-9d2f-48|WB
2025-11-04 10:00:40 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - AppCode: IDXM02
2025-11-04 10:00:40 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - DeviceId: DEV-WEB-12345
2025-11-04 10:00:45 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - UserAgent: PostmanRuntime/7.49.1
2025-11-04 10:00:46 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MfaEnforced: true
2025-11-04 10:00:47 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MinLoginHour: 1
2025-11-04 10:00:47 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MinLoginMinute: 0
2025-11-04 10:00:48 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - ====================================
2025-11-04 10:00:49 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - === Raw SP Result ===
2025-11-04 10:00:50 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - Key: #result-set-1 = [{IsLoginSucces=true, LoginMessage=MFA required, ErrCode=1100, DBVersion=, Channel=WEB, SessionId=C0FB39FA-141C-4BF8-8041-79DE8FFDABAC, Kid=strade-key-2025-001, MfaRequired=1, MyToken=null}]
2025-11-04 10:00:50 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl -   â””â”€ List size: 1
2025-11-04 10:00:50 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - =====================
2025-11-04 10:00:51 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - === Extracted Data ===
2025-11-04 10:00:51 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - IsLoginSucces = true
2025-11-04 10:00:51 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - LoginMessage = MFA required
2025-11-04 10:00:51 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - ErrCode = 1100
2025-11-04 10:00:51 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - DBVersion = 
2025-11-04 10:00:51 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - Channel = WEB
2025-11-04 10:00:51 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - SessionId = C0FB39FA-141C-4BF8-8041-79DE8FFDABAC
2025-11-04 10:00:51 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - Kid = strade-key-2025-001
2025-11-04 10:00:51 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MfaRequired = 1
2025-11-04 10:00:51 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MyToken = null
2025-11-04 10:00:51 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - ======================
2025-11-04 10:00:51 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - === Mapped Result ===
2025-11-04 10:00:52 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - IsLoginSuccess: true
2025-11-04 10:00:52 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - LoginMessage: MFA required
2025-11-04 10:00:52 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - ErrCode: 1100
2025-11-04 10:00:52 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - SessionId: c0fb39fa-141c-4bf8-8041-79de8ffdabac
2025-11-04 10:00:52 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MfaRequired: true
2025-11-04 10:00:55 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - =====================
2025-11-04 10:00:55 [http-nio-8099-exec-7] INFO  c.s.auth_app.service.AuthService - MFA required for userId: VT0102, sessionId: c0fb39fa-141c-4bf8-8041-79de8ffdabac
2025-11-04 10:00:55 [http-nio-8099-exec-7] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/auth/login - Status: 200 - Duration: 27192ms
2025-11-04 10:10:17 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-04 10:10:17 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-04 10:10:17 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 10:10:17 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-04 10:10:17 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-04 10:10:20 [main] INFO  c.strade.auth_app.AuthAppApplication - Starting AuthAppApplication using Java 21.0.4 with PID 31999 (/Users/ronz/Downloads/auth-app 2/target/classes started by ronz in /Users/ronz/Downloads/auth-app 2)
2025-11-04 10:10:20 [main] INFO  c.strade.auth_app.AuthAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 10:10:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-04 10:10:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 10:10:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 155 ms. Found 15 JPA repository interfaces.
2025-11-04 10:10:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-04 10:10:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-04 10:10:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.AccessTokenDenyJtiRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:10:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.AuthEventLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:10:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.BridgingClientUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:10:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:10:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.KeyStoreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:10:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.LogLoginRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:10:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.LoginShadowRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:10:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.NotificationQueueRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:10:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.OtpChallengeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:10:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.RefreshTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:10:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.SessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:10:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.TrustedDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:10:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.UserMfaBackupCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:10:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.UserMfaRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:10:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:10:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2025-11-04 10:10:23 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8099 (http)
2025-11-04 10:10:23 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 10:10:23 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-04 10:10:23 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 10:10:23 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3070 ms
2025-11-04 10:10:23 [main] INFO  c.s.a.config.JwtKeyConfiguration - ðŸ”‘ Loading private key from: classpath:keys/private_key.pem
2025-11-04 10:10:23 [main] INFO  c.s.auth_app.security.jwt.KeyManager - Loading private key from resource: classpath:keys/private_key.pem
2025-11-04 10:10:23 [main] INFO  c.s.a.config.JwtKeyConfiguration - ðŸ”‘ Loading public key from: classpath:keys/public_key.pem
2025-11-04 10:10:23 [main] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: classpath:keys/public_key.pem
2025-11-04 10:10:23 [main] INFO  c.s.a.config.JwtKeyConfiguration - âœ… KeyManager bean created with RSA key pair
2025-11-04 10:10:23 [main] INFO  c.s.auth_app.security.jwt.KeyManager - KeyManager initialized with RSA key pair
2025-11-04 10:10:24 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 10:10:24 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-11-04 10:10:24 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 10:10:24 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 10:10:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-04 10:10:25 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: a807cd80-ac0f-4843-a8af-103672d99df0
2025-11-04 10:10:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-04 10:10:25 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 10.0.0 version for [org.hibernate.dialect.SQLServerDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 11.0.0. Check the community dialects project for available legacy versions.
2025-11-04 10:10:25 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 10:10:26 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 10:10:27 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 10:10:27 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 10:10:27 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-04 10:10:30 [main] INFO  c.s.a.r.p.i.DeviceProcedureRepositoryImpl - ðŸ”§ Initializing DeviceProcedureRepository stored procedure calls
2025-11-04 10:10:30 [main] INFO  c.s.a.r.p.i.DeviceProcedureRepositoryImpl - âœ… DeviceProcedureRepository initialized successfully
2025-11-04 10:10:30 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-04 10:10:30 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-04 10:10:30 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-11-04 10:10:31 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestLoggingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-04 10:10:31 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8099 (http) with context path '/'
2025-11-04 10:10:31 [main] INFO  c.strade.auth_app.AuthAppApplication - Started AuthAppApplication in 12.396 seconds (process running for 13.416)
2025-11-04 10:10:34 [http-nio-8099-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-04 10:10:34 [http-nio-8099-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-04 10:10:34 [http-nio-8099-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-04 10:10:34 [http-nio-8099-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/transaction/otp/send
2025-11-04 10:10:34 [http-nio-8099-exec-2] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 10:10:34 [http-nio-8099-exec-2] WARN  c.s.a.security.jwt.JwtValidator - Session is not active: 7a8f3da3-5f09-4379-86f2-46d7fb22f976
2025-11-04 10:10:34 [http-nio-8099-exec-2] WARN  c.s.a.s.f.JwtAuthenticationFilter - Token validation failed: Session is no longer active
2025-11-04 10:10:34 [http-nio-8099-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 10:10:34 [http-nio-8099-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/transaction/otp/send
2025-11-04 10:10:34 [http-nio-8099-exec-2] INFO  c.s.a.c.TransactionOtpController - Transaction OTP send request: purpose=withdrawal, reference=test
2025-11-04 10:10:34 [http-nio-8099-exec-2] INFO  c.s.a.service.TransactionOtpService - Sending transaction OTP: userId=VT0101, purpose=withdrawal, reference=test
2025-11-04 10:10:35 [http-nio-8099-exec-2] WARN  c.s.a.service.TransactionOtpService - Phone number not found for clientId=null, skipping WhatsApp send
2025-11-04 10:10:35 [http-nio-8099-exec-2] INFO  c.s.a.r.p.i.MfaProcedureRepositoryImpl - OTP challenge created: E30D0182-5C08-4AE2-A751-D3B13745D660
2025-11-04 10:10:35 [http-nio-8099-exec-2] INFO  c.s.a.service.TransactionOtpService - Transaction OTP challenge created: challengeId=e30d0182-5c08-4ae2-a751-d3b13745d660
2025-11-04 10:10:35 [http-nio-8099-exec-2] INFO  c.s.a.service.TransactionOtpService - WhatsApp send skipped due to missing phone number: challengeId=e30d0182-5c08-4ae2-a751-d3b13745d660
2025-11-04 10:10:35 [http-nio-8099-exec-2] INFO  c.strade.auth_app.config.AsyncConfig - Async executor initialized: corePoolSize=5, maxPoolSize=10
2025-11-04 10:10:35 [http-nio-8099-exec-2] INFO  c.s.a.c.TransactionOtpController - Transaction OTP sent successfully: challengeId=e30d0182-5c08-4ae2-a751-d3b13745d660
2025-11-04 10:10:35 [http-nio-8099-exec-2] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/transaction/otp/send - Status: 200 - Duration: 593ms
2025-11-04 10:10:41 [http-nio-8099-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/transaction/otp/verify
2025-11-04 10:10:41 [http-nio-8099-exec-3] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 10:10:41 [http-nio-8099-exec-3] WARN  c.s.a.security.jwt.JwtValidator - Session is not active: 7a8f3da3-5f09-4379-86f2-46d7fb22f976
2025-11-04 10:10:41 [http-nio-8099-exec-3] WARN  c.s.a.s.f.JwtAuthenticationFilter - Token validation failed: Session is no longer active
2025-11-04 10:10:41 [http-nio-8099-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 10:10:41 [http-nio-8099-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/transaction/otp/verify
2025-11-04 10:10:41 [http-nio-8099-exec-3] INFO  c.s.a.c.TransactionOtpController - Transaction OTP verification request: challengeId=e30d0182-5c08-4ae2-a751-d3b13745d660
2025-11-04 10:10:41 [http-nio-8099-exec-3] INFO  c.s.a.service.TransactionOtpService - Verifying transaction OTP: challengeId=e30d0182-5c08-4ae2-a751-d3b13745d660
2025-11-04 10:10:41 [http-nio-8099-exec-3] INFO  c.s.a.r.p.i.MfaProcedureRepositoryImpl - OTP challenge verified successfully: challengeId=e30d0182-5c08-4ae2-a751-d3b13745d660
2025-11-04 10:10:41 [http-nio-8099-exec-3] INFO  c.s.a.service.TransactionOtpService - Transaction OTP verified successfully: challengeId=e30d0182-5c08-4ae2-a751-d3b13745d660
2025-11-04 10:10:41 [http-nio-8099-exec-3] INFO  c.s.a.c.TransactionOtpController - Transaction OTP verified successfully: challengeId=e30d0182-5c08-4ae2-a751-d3b13745d660
2025-11-04 10:10:41 [http-nio-8099-exec-3] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/transaction/otp/verify - Status: 200 - Duration: 122ms
2025-11-04 10:25:41 [main] INFO  c.s.auth_app.AuthAppApplicationTests - Starting AuthAppApplicationTests using Java 21.0.7 with PID 32430 (started by ronz in /Users/ronz/Downloads/auth-app 2)
2025-11-04 10:25:41 [main] INFO  c.s.auth_app.AuthAppApplicationTests - No active profile set, falling back to 1 default profile: "default"
2025-11-04 10:25:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-04 10:25:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 10:25:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 138 ms. Found 15 JPA repository interfaces.
2025-11-04 10:25:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-04 10:25:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-04 10:25:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.AccessTokenDenyJtiRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:25:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.AuthEventLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:25:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.BridgingClientUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:25:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:25:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.KeyStoreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:25:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.LogLoginRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:25:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.LoginShadowRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:25:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.NotificationQueueRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:25:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.OtpChallengeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:25:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.RefreshTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:25:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.SessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:25:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.TrustedDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:25:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.UserMfaBackupCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:25:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.UserMfaRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:25:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 10:25:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-11-04 10:25:42 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 10:25:42 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-11-04 10:25:42 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 10:25:43 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 10:25:43 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-04 10:25:52 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 08S01
2025-11-04 10:25:52 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - The TCP/IP connection to the host 172.17.201.49, port 1433 has failed. Error: "Connect timed out. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.".
2025-11-04 10:25:52 [main] WARN  o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
org.hibernate.exception.JDBCConnectionException: unable to obtain isolated JDBC connection [The TCP/IP connection to the host 172.17.201.49, port 1433 has failed. Error: "Connect timed out. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.".] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:334)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:129)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:81)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:226)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:194)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host 172.17.201.49, port 1433 has failed. Error: "Connect timed out. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.".
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:242)
	at com.microsoft.sqlserver.jdbc.SQLServerException.convertConnectExceptionToSQLServerException(SQLServerException.java:308)
	at com.microsoft.sqlserver.jdbc.SocketFinder.findSocket(IOBuffer.java:2593)
	at com.microsoft.sqlserver.jdbc.TDSChannel.open(IOBuffer.java:721)
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:3768)
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:3385)
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:3194)
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1971)
	at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1263)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:126)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:485)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	... 116 common frames omitted
2025-11-04 10:25:52 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 10:25:52 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (null)']
	Database driver: undefined/unknown
	Database version: 11.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 10:25:54 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 10:25:54 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 10:25:54 [main] INFO  c.s.a.config.JwtKeyConfiguration - ðŸ”‘ Loading private key from: classpath:keys/private_key.pem
2025-11-04 10:25:54 [main] INFO  c.s.auth_app.security.jwt.KeyManager - Loading private key from resource: classpath:keys/private_key.pem
2025-11-04 10:25:54 [main] INFO  c.s.a.config.JwtKeyConfiguration - ðŸ”‘ Loading public key from: classpath:keys/public_key.pem
2025-11-04 10:25:54 [main] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: classpath:keys/public_key.pem
2025-11-04 10:25:54 [main] INFO  c.s.a.config.JwtKeyConfiguration - âœ… KeyManager bean created with RSA key pair
2025-11-04 10:25:54 [main] INFO  c.s.auth_app.security.jwt.KeyManager - KeyManager initialized with RSA key pair
2025-11-04 10:25:55 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-04 10:25:58 [main] INFO  c.s.a.r.p.i.DeviceProcedureRepositoryImpl - ðŸ”§ Initializing DeviceProcedureRepository stored procedure calls
2025-11-04 10:25:58 [main] INFO  c.s.a.r.p.i.DeviceProcedureRepositoryImpl - âœ… DeviceProcedureRepository initialized successfully
2025-11-04 10:25:58 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-04 10:25:58 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-04 10:25:59 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoints beneath base path '/actuator'
2025-11-04 10:25:59 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestLoggingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-04 10:25:59 [main] INFO  c.s.auth_app.AuthAppApplicationTests - Started AuthAppApplicationTests in 18.937 seconds (process running for 19.641)
2025-11-04 10:26:01 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 11:53:33 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m37s14ms).
2025-11-04 12:01:41 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-04 12:01:41 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-04 12:01:41 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 12:01:41 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-04 12:01:41 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-04 12:01:45 [main] INFO  c.strade.auth_app.AuthAppApplication - Starting AuthAppApplication using Java 21.0.4 with PID 34177 (/Users/ronz/Downloads/auth-app 2/target/classes started by ronz in /Users/ronz/Downloads/auth-app 2)
2025-11-04 12:01:45 [main] INFO  c.strade.auth_app.AuthAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 12:01:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-04 12:01:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 12:01:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 163 ms. Found 15 JPA repository interfaces.
2025-11-04 12:01:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-04 12:01:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-04 12:01:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.AccessTokenDenyJtiRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:01:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.AuthEventLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:01:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.BridgingClientUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:01:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:01:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.KeyStoreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:01:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.LogLoginRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:01:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.LoginShadowRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:01:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.NotificationQueueRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:01:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.OtpChallengeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:01:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.RefreshTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:01:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.SessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:01:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.TrustedDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:01:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.UserMfaBackupCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:01:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.UserMfaRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:01:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:01:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-11-04 12:01:48 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8099 (http)
2025-11-04 12:01:48 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 12:01:48 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-04 12:01:48 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 12:01:48 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2548 ms
2025-11-04 12:01:48 [main] INFO  c.s.a.config.JwtKeyConfiguration - ðŸ”‘ Loading private key from: classpath:keys/private_key.pem
2025-11-04 12:01:48 [main] INFO  c.s.auth_app.security.jwt.KeyManager - Loading private key from resource: classpath:keys/private_key.pem
2025-11-04 12:01:48 [main] INFO  c.s.a.config.JwtKeyConfiguration - ðŸ”‘ Loading public key from: classpath:keys/public_key.pem
2025-11-04 12:01:48 [main] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: classpath:keys/public_key.pem
2025-11-04 12:01:48 [main] INFO  c.s.a.config.JwtKeyConfiguration - âœ… KeyManager bean created with RSA key pair
2025-11-04 12:01:48 [main] INFO  c.s.auth_app.security.jwt.KeyManager - KeyManager initialized with RSA key pair
2025-11-04 12:01:48 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 12:01:48 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-11-04 12:01:48 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 12:01:48 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 12:01:48 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-04 12:01:58 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 08S01
2025-11-04 12:01:58 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - The TCP/IP connection to the host 172.17.201.49, port 1433 has failed. Error: "Connect timed out. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.".
2025-11-04 12:01:58 [main] WARN  o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
org.hibernate.exception.JDBCConnectionException: unable to obtain isolated JDBC connection [The TCP/IP connection to the host 172.17.201.49, port 1433 has failed. Error: "Connect timed out. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.".] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:334)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:129)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:81)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:226)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:194)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:691)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1205)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1725)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1474)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1698)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1643)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1698)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1643)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:211)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:174)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:169)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:154)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:87)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4464)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:773)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:81)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:412)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:438)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.strade.auth_app.AuthAppApplication.main(AuthAppApplication.java:23)
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host 172.17.201.49, port 1433 has failed. Error: "Connect timed out. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.".
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:242)
	at com.microsoft.sqlserver.jdbc.SQLServerException.convertConnectExceptionToSQLServerException(SQLServerException.java:308)
	at com.microsoft.sqlserver.jdbc.SocketFinder.findSocket(IOBuffer.java:2593)
	at com.microsoft.sqlserver.jdbc.TDSChannel.open(IOBuffer.java:721)
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:3768)
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:3385)
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:3194)
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1971)
	at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1263)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:126)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:485)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	... 121 common frames omitted
2025-11-04 12:01:58 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 12:01:58 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (null)']
	Database driver: undefined/unknown
	Database version: 11.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 12:01:59 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 12:01:59 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 12:01:59 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-04 12:02:00 [main] INFO  c.s.a.r.p.i.DeviceProcedureRepositoryImpl - ðŸ”§ Initializing DeviceProcedureRepository stored procedure calls
2025-11-04 12:02:00 [main] INFO  c.s.a.r.p.i.DeviceProcedureRepositoryImpl - âœ… DeviceProcedureRepository initialized successfully
2025-11-04 12:02:01 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-04 12:02:01 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-04 12:02:01 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-11-04 12:02:01 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestLoggingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-04 12:02:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8099 (http) with context path '/'
2025-11-04 12:02:02 [main] INFO  c.strade.auth_app.AuthAppApplication - Started AuthAppApplication in 17.074 seconds (process running for 17.524)
2025-11-04 12:03:17 [http-nio-8099-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-04 12:03:17 [http-nio-8099-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-04 12:03:17 [http-nio-8099-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-11-04 12:03:17 [http-nio-8099-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/v1/sessions/current
2025-11-04 12:03:17 [http-nio-8099-exec-2] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-04 12:03:26 [http-nio-8099-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 08S01
2025-11-04 12:03:26 [http-nio-8099-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - The TCP/IP connection to the host 172.17.201.49, port 1433 has failed. Error: "Connect timed out. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.".
2025-11-04 12:03:26 [http-nio-8099-exec-2] ERROR c.s.a.s.f.JwtAuthenticationFilter - Error in JWT authentication filter
org.springframework.dao.DataAccessResourceFailureException: Unable to acquire JDBC Connection [The TCP/IP connection to the host 172.17.201.49, port 1433 has failed. Error: "Connect timed out. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.".] [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:278)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy170.findByKid(Unknown Source)
	at com.strade.auth_app.security.jwt.JwtValidator.getPublicKey(JwtValidator.java:135)
	at com.strade.auth_app.security.jwt.JwtValidator.validateAndParseClaims(JwtValidator.java:45)
	at com.strade.auth_app.security.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:52)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [The TCP/IP connection to the host 172.17.201.49, port 1433 has failed. Error: "Connect timed out. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.".] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:129)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:156)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.connection(StatementPreparerImpl.java:56)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$4.doPrepare(StatementPreparerImpl.java:151)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:180)
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:153)
	at org.hibernate.sql.exec.internal.StandardStatementCreator.createStatement(StandardStatementCreator.java:49)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:236)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:172)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:149)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:439)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:359)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:419)
	at jdk.proxy2/jdk.proxy2.$Proxy210.getSingleResult(Unknown Source)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 87 common frames omitted
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host 172.17.201.49, port 1433 has failed. Error: "Connect timed out. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.".
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:242)
	at com.microsoft.sqlserver.jdbc.SQLServerException.convertConnectExceptionToSQLServerException(SQLServerException.java:308)
	at com.microsoft.sqlserver.jdbc.SocketFinder.findSocket(IOBuffer.java:2593)
	at com.microsoft.sqlserver.jdbc.TDSChannel.open(IOBuffer.java:721)
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:3768)
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:3385)
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:3194)
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1971)
	at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1263)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:126)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:46)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:126)
	... 126 common frames omitted
2025-11-04 12:03:26 [http-nio-8099-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 12:03:26 [http-nio-8099-exec-2] WARN  c.s.a.s.JwtAuthenticationEntryPoint - Unauthorized access attempt: GET /api/v1/sessions/current
2025-11-04 12:03:26 [http-nio-8099-exec-2] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: GET /api/v1/sessions/current - Status: 401 - Duration: 182ms
2025-11-04 12:03:50 [http-nio-8099-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/auth/refresh
2025-11-04 12:03:50 [http-nio-8099-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 12:03:50 [http-nio-8099-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/auth/refresh
2025-11-04 12:03:50 [http-nio-8099-exec-3] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-04 12:04:00 [http-nio-8099-exec-3] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 08S01
2025-11-04 12:04:00 [http-nio-8099-exec-3] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - The TCP/IP connection to the host 172.17.201.49, port 1433 has failed. Error: "Connect timed out. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.".
2025-11-04 12:04:00 [http-nio-8099-exec-3] ERROR c.s.a.e.GlobalExceptionHandler - Unexpected error
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:532)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:405)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:639)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:374)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.strade.auth_app.service.AuthService$$SpringCGLIB$$0.refreshToken(<generated>)
	at com.strade.auth_app.controller.AuthController.refresh(AuthController.java:79)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.strade.auth_app.security.filter.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.java:32)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [The TCP/IP connection to the host 172.17.201.49, port 1433 has failed. Error: "Connect timed out. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.".] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:129)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:156)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:286)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:294)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:176)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:421)
	... 151 common frames omitted
Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The TCP/IP connection to the host 172.17.201.49, port 1433 has failed. Error: "Connect timed out. Verify the connection properties. Make sure that an instance of SQL Server is running on the host and accepting TCP/IP connections at the port. Make sure that TCP connections to the port are not blocked by a firewall.".
	at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:242)
	at com.microsoft.sqlserver.jdbc.SQLServerException.convertConnectExceptionToSQLServerException(SQLServerException.java:308)
	at com.microsoft.sqlserver.jdbc.SocketFinder.findSocket(IOBuffer.java:2593)
	at com.microsoft.sqlserver.jdbc.TDSChannel.open(IOBuffer.java:721)
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:3768)
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:3385)
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:3194)
	at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1971)
	at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1263)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:137)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:360)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:202)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:461)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:550)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:98)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:126)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:46)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:126)
	... 158 common frames omitted
2025-11-04 12:04:00 [http-nio-8099-exec-3] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/auth/refresh - Status: 500 - Duration: 9432ms
2025-11-04 12:04:33 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-04 12:04:33 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-04 12:04:33 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 12:04:35 [main] INFO  c.strade.auth_app.AuthAppApplication - Starting AuthAppApplication using Java 21.0.4 with PID 34242 (/Users/ronz/Downloads/auth-app 2/target/classes started by ronz in /Users/ronz/Downloads/auth-app 2)
2025-11-04 12:04:35 [main] INFO  c.strade.auth_app.AuthAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 12:04:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-04 12:04:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 12:04:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 134 ms. Found 15 JPA repository interfaces.
2025-11-04 12:04:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-04 12:04:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-04 12:04:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.AccessTokenDenyJtiRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:04:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.AuthEventLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:04:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.BridgingClientUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:04:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:04:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.KeyStoreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:04:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.LogLoginRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:04:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.LoginShadowRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:04:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.NotificationQueueRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:04:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.OtpChallengeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:04:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.RefreshTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:04:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.SessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:04:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.TrustedDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:04:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.UserMfaBackupCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:04:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.UserMfaRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:04:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 12:04:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-11-04 12:04:37 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8099 (http)
2025-11-04 12:04:37 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 12:04:37 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-04 12:04:37 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 12:04:37 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2046 ms
2025-11-04 12:04:37 [main] INFO  c.s.a.config.JwtKeyConfiguration - ðŸ”‘ Loading private key from: classpath:keys/private_key.pem
2025-11-04 12:04:37 [main] INFO  c.s.auth_app.security.jwt.KeyManager - Loading private key from resource: classpath:keys/private_key.pem
2025-11-04 12:04:37 [main] INFO  c.s.a.config.JwtKeyConfiguration - ðŸ”‘ Loading public key from: classpath:keys/public_key.pem
2025-11-04 12:04:37 [main] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: classpath:keys/public_key.pem
2025-11-04 12:04:37 [main] INFO  c.s.a.config.JwtKeyConfiguration - âœ… KeyManager bean created with RSA key pair
2025-11-04 12:04:37 [main] INFO  c.s.auth_app.security.jwt.KeyManager - KeyManager initialized with RSA key pair
2025-11-04 12:04:38 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 12:04:38 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-11-04 12:04:38 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 12:04:38 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 12:04:38 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-04 12:04:38 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 74424479-24e3-4c95-8c47-80a452c333e7
2025-11-04 12:04:38 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-04 12:04:39 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 10.0.0 version for [org.hibernate.dialect.SQLServerDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 11.0.0. Check the community dialects project for available legacy versions.
2025-11-04 12:04:39 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 12:04:39 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 12:04:39 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 12:04:39 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 12:04:40 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-04 12:04:41 [main] INFO  c.s.a.r.p.i.DeviceProcedureRepositoryImpl - ðŸ”§ Initializing DeviceProcedureRepository stored procedure calls
2025-11-04 12:04:41 [main] INFO  c.s.a.r.p.i.DeviceProcedureRepositoryImpl - âœ… DeviceProcedureRepository initialized successfully
2025-11-04 12:04:42 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-04 12:04:42 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-04 12:04:42 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-11-04 12:04:42 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestLoggingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-04 12:04:43 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8099 (http) with context path '/'
2025-11-04 12:04:43 [main] INFO  c.strade.auth_app.AuthAppApplication - Started AuthAppApplication in 8.373 seconds (process running for 9.075)
2025-11-04 12:04:44 [http-nio-8099-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-04 12:04:44 [http-nio-8099-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-04 12:04:44 [http-nio-8099-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-04 12:04:44 [http-nio-8099-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/auth/refresh
2025-11-04 12:04:44 [http-nio-8099-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 12:04:44 [http-nio-8099-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/auth/refresh
2025-11-04 12:04:44 [http-nio-8099-exec-1] WARN  c.s.auth_app.service.AuthService - Revoked refresh token used: 60bb1927-ab57-47aa-9629-bc74dec83b40
2025-11-04 12:04:44 [http-nio-8099-exec-1] ERROR c.s.a.e.GlobalExceptionHandler - AuthException: code=3112, message=Refresh token has been revoked
2025-11-04 12:04:44 [http-nio-8099-exec-1] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/auth/refresh - Status: 401 - Duration: 426ms
2025-11-04 12:04:53 [http-nio-8099-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/auth/refresh
2025-11-04 12:04:53 [http-nio-8099-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 12:04:53 [http-nio-8099-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/auth/refresh
2025-11-04 12:04:53 [http-nio-8099-exec-3] WARN  c.s.auth_app.service.AuthService - Revoked refresh token used: 60bb1927-ab57-47aa-9629-bc74dec83b40
2025-11-04 12:04:53 [http-nio-8099-exec-3] ERROR c.s.a.e.GlobalExceptionHandler - AuthException: code=3112, message=Refresh token has been revoked
2025-11-04 12:04:53 [http-nio-8099-exec-3] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/auth/refresh - Status: 401 - Duration: 134ms
2025-11-04 12:04:54 [http-nio-8099-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/auth/refresh
2025-11-04 12:04:54 [http-nio-8099-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 12:04:54 [http-nio-8099-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/auth/refresh
2025-11-04 12:04:54 [http-nio-8099-exec-4] WARN  c.s.auth_app.service.AuthService - Revoked refresh token used: 60bb1927-ab57-47aa-9629-bc74dec83b40
2025-11-04 12:04:54 [http-nio-8099-exec-4] ERROR c.s.a.e.GlobalExceptionHandler - AuthException: code=3112, message=Refresh token has been revoked
2025-11-04 12:04:54 [http-nio-8099-exec-4] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/auth/refresh - Status: 401 - Duration: 111ms
2025-11-04 12:04:59 [http-nio-8099-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/auth/login
2025-11-04 12:04:59 [http-nio-8099-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 12:04:59 [http-nio-8099-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/auth/login
2025-11-04 12:04:59 [http-nio-8099-exec-5] INFO  c.s.a.controller.AuthController - Login request: userId=VT0102, channel=WEB
2025-11-04 12:05:02 [http-nio-8099-exec-5] INFO  c.s.auth_app.service.AuthService - Login attempt: userId=VT0102, channel=WEB
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - === SelectUser_Logon Parameters ===
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - UserId: VT0102
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - Password: ***
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - Channel: WEB
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - AppVersion: 1.1.0.8
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - ServerNo: 1
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - TerminalId: |04720149-9d2f-48|WB
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - AppCode: IDXM02
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - DeviceId: DEV-WEB-12345
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - UserAgent: PostmanRuntime/7.49.1
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MfaEnforced: true
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MinLoginHour: 1
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MinLoginMinute: 0
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - ====================================
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - === Raw SP Result ===
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - Key: #result-set-1 = [{IsLoginSucces=true, LoginMessage=MFA required, ErrCode=1100, DBVersion=, Channel=WEB, SessionId=B571555F-A59F-419F-8C06-2DA0290B2DFC, Kid=strade-key-2025-001, MfaRequired=1, MyToken=null}]
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl -   â””â”€ List size: 1
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - =====================
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - === Extracted Data ===
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - IsLoginSucces = true
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - LoginMessage = MFA required
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - ErrCode = 1100
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - DBVersion = 
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - Channel = WEB
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - SessionId = B571555F-A59F-419F-8C06-2DA0290B2DFC
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - Kid = strade-key-2025-001
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MfaRequired = 1
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MyToken = null
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - ======================
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - === Mapped Result ===
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - IsLoginSuccess: true
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - LoginMessage: MFA required
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - ErrCode: 1100
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - SessionId: b571555f-a59f-419f-8c06-2da0290b2dfc
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MfaRequired: true
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - =====================
2025-11-04 12:05:03 [http-nio-8099-exec-5] INFO  c.s.auth_app.service.AuthService - MFA required for userId: VT0102, sessionId: b571555f-a59f-419f-8c06-2da0290b2dfc
2025-11-04 12:05:04 [http-nio-8099-exec-5] INFO  c.strade.auth_app.config.AsyncConfig - Async executor initialized: corePoolSize=5, maxPoolSize=10
2025-11-04 12:05:05 [http-nio-8099-exec-5] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/auth/login - Status: 200 - Duration: 5224ms
2025-11-04 12:05:20 [http-nio-8099-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/mfa/totp/setup
2025-11-04 12:05:20 [http-nio-8099-exec-6] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 12:05:20 [http-nio-8099-exec-6] WARN  c.s.a.security.jwt.JwtValidator - Session is not active: 7a8f3da3-5f09-4379-86f2-46d7fb22f976
2025-11-04 12:05:20 [http-nio-8099-exec-6] WARN  c.s.a.s.f.JwtAuthenticationFilter - Token validation failed: Session is no longer active
2025-11-04 12:05:20 [http-nio-8099-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 12:05:20 [http-nio-8099-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/mfa/totp/setup
2025-11-04 12:05:20 [http-nio-8099-exec-6] ERROR c.s.a.e.GlobalExceptionHandler - Unexpected error
org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unrecognized token 'b571555f': was expecting (JSON String, Number, Array, Object or token 'null', 'true' or 'false')
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:408)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:356)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:204)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:176)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:150)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.strade.auth_app.security.filter.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.java:32)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.strade.auth_app.security.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:87)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.fasterxml.jackson.core.JsonParseException: Unrecognized token 'b571555f': was expecting (JSON String, Number, Array, Object or token 'null', 'true' or 'false')
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 3, column: 27]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:2590)
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2616)
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2624)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:825)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._reportInvalidToken(UTF8StreamJsonParser.java:3662)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._handleUnexpectedValue(UTF8StreamJsonParser.java:2749)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextFieldName(UTF8StreamJsonParser.java:1098)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:406)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:2131)
	at com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1501)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:397)
	... 146 common frames omitted
2025-11-04 12:05:20 [http-nio-8099-exec-6] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/mfa/totp/setup - Status: 500 - Duration: 13ms
2025-11-04 12:09:22 [http-nio-8099-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/mfa/totp/setup
2025-11-04 12:09:22 [http-nio-8099-exec-8] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 12:09:22 [http-nio-8099-exec-8] WARN  c.s.a.security.jwt.JwtValidator - Session is not active: 7a8f3da3-5f09-4379-86f2-46d7fb22f976
2025-11-04 12:09:22 [http-nio-8099-exec-8] WARN  c.s.a.s.f.JwtAuthenticationFilter - Token validation failed: Session is no longer active
2025-11-04 12:09:22 [http-nio-8099-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 12:09:22 [http-nio-8099-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/mfa/totp/setup
2025-11-04 12:09:22 [http-nio-8099-exec-8] ERROR c.s.a.e.GlobalExceptionHandler - Unexpected error
org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unrecognized token 'b571555f': was expecting (JSON String, Number, Array, Object or token 'null', 'true' or 'false')
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:408)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:356)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:204)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:176)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:150)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:227)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.strade.auth_app.security.filter.RequestLoggingFilter.doFilterInternal(RequestLoggingFilter.java:32)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.strade.auth_app.security.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:87)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.fasterxml.jackson.core.JsonParseException: Unrecognized token 'b571555f': was expecting (JSON String, Number, Array, Object or token 'null', 'true' or 'false')
 at [Source: REDACTED (`StreamReadFeature.INCLUDE_SOURCE_IN_LOCATION` disabled); line: 3, column: 27]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:2590)
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2616)
	at com.fasterxml.jackson.core.JsonParser._constructReadException(JsonParser.java:2624)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:825)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._reportInvalidToken(UTF8StreamJsonParser.java:3662)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._handleUnexpectedValue(UTF8StreamJsonParser.java:2749)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextFieldName(UTF8StreamJsonParser.java:1098)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:406)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:185)
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:342)
	at com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:2131)
	at com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1501)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:397)
	... 146 common frames omitted
2025-11-04 12:09:22 [http-nio-8099-exec-8] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/mfa/totp/setup - Status: 500 - Duration: 11ms
2025-11-04 12:09:36 [http-nio-8099-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/mfa/totp/setup
2025-11-04 12:09:36 [http-nio-8099-exec-9] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 12:09:36 [http-nio-8099-exec-9] WARN  c.s.a.security.jwt.JwtValidator - Session is not active: 7a8f3da3-5f09-4379-86f2-46d7fb22f976
2025-11-04 12:09:36 [http-nio-8099-exec-9] WARN  c.s.a.s.f.JwtAuthenticationFilter - Token validation failed: Session is no longer active
2025-11-04 12:09:36 [http-nio-8099-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 12:09:36 [http-nio-8099-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/mfa/totp/setup
2025-11-04 12:09:42 [http-nio-8099-exec-9] INFO  c.s.a.controller.MfaController - Setup TOTP (no-auth mode): userId=VT0102, sessionId=b571555f-a59f-419f-8c06-2da0290b2dfc
2025-11-04 12:09:42 [http-nio-8099-exec-9] INFO  c.strade.auth_app.service.MfaService - Setting up TOTP for user: VT0102
2025-11-04 12:09:43 [http-nio-8099-exec-9] INFO  c.strade.auth_app.service.MfaService - TOTP setup initiated for user: VT0102
2025-11-04 12:09:43 [http-nio-8099-exec-9] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/mfa/totp/setup - Status: 200 - Duration: 7077ms
2025-11-04 12:11:09 [http-nio-8099-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/mfa/totp/verify
2025-11-04 12:11:09 [http-nio-8099-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 12:11:09 [http-nio-8099-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/mfa/totp/verify
2025-11-04 12:11:09 [http-nio-8099-exec-1] INFO  c.s.a.controller.MfaController - Verify TOTP: sessionId=b571555f-a59f-419f-8c06-2da0290b2dfc
2025-11-04 12:11:09 [http-nio-8099-exec-1] INFO  c.strade.auth_app.service.MfaService - Verifying TOTP for sessionId: b571555f-a59f-419f-8c06-2da0290b2dfc
2025-11-04 12:11:09 [http-nio-8099-exec-1] ERROR c.s.a.e.GlobalExceptionHandler - AuthException: code=5032, message=TOTP is not active
2025-11-04 12:11:09 [http-nio-8099-exec-1] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/mfa/totp/verify - Status: 400 - Duration: 170ms
2025-11-04 12:11:40 [http-nio-8099-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/mfa/totp/activate
2025-11-04 12:11:40 [http-nio-8099-exec-4] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 12:11:40 [http-nio-8099-exec-4] WARN  c.s.a.security.jwt.JwtValidator - Session is not active: 7a8f3da3-5f09-4379-86f2-46d7fb22f976
2025-11-04 12:11:40 [http-nio-8099-exec-4] WARN  c.s.a.s.f.JwtAuthenticationFilter - Token validation failed: Session is no longer active
2025-11-04 12:11:40 [http-nio-8099-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 12:11:40 [http-nio-8099-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/mfa/totp/activate
2025-11-04 12:11:41 [http-nio-8099-exec-4] INFO  c.s.a.controller.MfaController - Activate TOTP (no-auth mode): userId=VT0102, sessionId=b571555f-a59f-419f-8c06-2da0290b2dfc
2025-11-04 12:11:41 [http-nio-8099-exec-4] INFO  c.strade.auth_app.service.MfaService - Activating TOTP for user: VT0102
2025-11-04 12:11:41 [http-nio-8099-exec-4] INFO  c.strade.auth_app.service.MfaService - TOTP activated successfully for user: VT0102
2025-11-04 12:11:41 [http-nio-8099-exec-4] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/mfa/totp/activate - Status: 200 - Duration: 349ms
2025-11-04 12:12:15 [http-nio-8099-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/mfa/totp/verify
2025-11-04 12:12:15 [http-nio-8099-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 12:12:15 [http-nio-8099-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/mfa/totp/verify
2025-11-04 12:12:15 [http-nio-8099-exec-6] INFO  c.s.a.controller.MfaController - Verify TOTP: sessionId=b571555f-a59f-419f-8c06-2da0290b2dfc
2025-11-04 12:12:15 [http-nio-8099-exec-6] INFO  c.strade.auth_app.service.MfaService - Verifying TOTP for sessionId: b571555f-a59f-419f-8c06-2da0290b2dfc
2025-11-04 12:12:15 [http-nio-8099-exec-6] INFO  c.strade.auth_app.service.MfaService - TOTP verification successful for user: VT0102
2025-11-04 12:12:15 [http-nio-8099-exec-6] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/mfa/totp/verify - Status: 200 - Duration: 369ms
2025-11-04 12:43:45 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=30m3s657ms).
2025-11-04 13:01:41 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=11m56s51ms).
2025-11-04 13:15:24 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-04 13:15:24 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-04 13:15:24 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 13:15:24 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-04 13:15:24 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-04 13:15:28 [main] INFO  c.strade.auth_app.AuthAppApplication - Starting AuthAppApplication using Java 21.0.4 with PID 34893 (/Users/ronz/Downloads/auth-app 2/target/classes started by ronz in /Users/ronz/Downloads/auth-app 2)
2025-11-04 13:15:28 [main] INFO  c.strade.auth_app.AuthAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 13:15:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-04 13:15:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 13:15:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 142 ms. Found 15 JPA repository interfaces.
2025-11-04 13:15:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-04 13:15:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-04 13:15:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.AccessTokenDenyJtiRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 13:15:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.AuthEventLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 13:15:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.BridgingClientUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 13:15:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 13:15:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.KeyStoreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 13:15:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.LogLoginRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 13:15:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.LoginShadowRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 13:15:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.NotificationQueueRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 13:15:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.OtpChallengeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 13:15:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.RefreshTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 13:15:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.SessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 13:15:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.TrustedDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 13:15:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.UserMfaBackupCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 13:15:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.UserMfaRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 13:15:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 13:15:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-11-04 13:15:30 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8099 (http)
2025-11-04 13:15:30 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 13:15:30 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-04 13:15:30 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 13:15:30 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2011 ms
2025-11-04 13:15:30 [main] INFO  c.s.a.config.JwtKeyConfiguration - ðŸ”‘ Loading private key from: classpath:keys/private_key.pem
2025-11-04 13:15:30 [main] INFO  c.s.auth_app.security.jwt.KeyManager - Loading private key from resource: classpath:keys/private_key.pem
2025-11-04 13:15:30 [main] INFO  c.s.a.config.JwtKeyConfiguration - ðŸ”‘ Loading public key from: classpath:keys/public_key.pem
2025-11-04 13:15:30 [main] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: classpath:keys/public_key.pem
2025-11-04 13:15:30 [main] INFO  c.s.a.config.JwtKeyConfiguration - âœ… KeyManager bean created with RSA key pair
2025-11-04 13:15:30 [main] INFO  c.s.auth_app.security.jwt.KeyManager - KeyManager initialized with RSA key pair
2025-11-04 13:15:30 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 13:15:30 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-11-04 13:15:30 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 13:15:30 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 13:15:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-04 13:15:31 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: 707a6375-2f92-4028-ac3b-a6c19165a2db
2025-11-04 13:15:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-04 13:15:31 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 10.0.0 version for [org.hibernate.dialect.SQLServerDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 11.0.0. Check the community dialects project for available legacy versions.
2025-11-04 13:15:31 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 13:15:31 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 13:15:32 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 13:15:32 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 13:15:32 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-04 13:15:33 [main] INFO  c.s.a.r.p.i.DeviceProcedureRepositoryImpl - ðŸ”§ Initializing DeviceProcedureRepository stored procedure calls
2025-11-04 13:15:33 [main] INFO  c.s.a.r.p.i.DeviceProcedureRepositoryImpl - âœ… DeviceProcedureRepository initialized successfully
2025-11-04 13:15:34 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-04 13:15:34 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-04 13:15:34 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-11-04 13:15:34 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestLoggingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-04 13:15:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8099 (http) with context path '/'
2025-11-04 13:15:35 [main] INFO  c.strade.auth_app.AuthAppApplication - Started AuthAppApplication in 7.777 seconds (process running for 8.381)
2025-11-04 13:26:10 [http-nio-8099-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-04 13:26:10 [http-nio-8099-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-04 13:26:10 [http-nio-8099-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 12 ms
2025-11-04 13:26:10 [http-nio-8099-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/mfa/totp/activate
2025-11-04 13:26:10 [http-nio-8099-exec-1] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 13:26:10 [http-nio-8099-exec-1] WARN  c.s.a.security.jwt.JwtValidator - Session is not active: 7a8f3da3-5f09-4379-86f2-46d7fb22f976
2025-11-04 13:26:10 [http-nio-8099-exec-1] WARN  c.s.a.s.f.JwtAuthenticationFilter - Token validation failed: Session is no longer active
2025-11-04 13:26:10 [http-nio-8099-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 13:26:10 [http-nio-8099-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/mfa/totp/activate
2025-11-04 13:26:11 [http-nio-8099-exec-1] INFO  c.s.a.controller.MfaController - Activate TOTP (no-auth mode): userId=VT0102, sessionId=b571555f-a59f-419f-8c06-2da0290b2dfc
2025-11-04 13:26:11 [http-nio-8099-exec-1] INFO  c.strade.auth_app.service.MfaService - Activating TOTP for user: VT0102
2025-11-04 13:26:11 [http-nio-8099-exec-1] ERROR c.s.a.e.GlobalExceptionHandler - AuthException: code=5001, message=TOTP is already activated
2025-11-04 13:26:11 [http-nio-8099-exec-1] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/mfa/totp/activate - Status: 409 - Duration: 243ms
2025-11-04 13:26:40 [http-nio-8099-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/mfa/totp/verify
2025-11-04 13:26:40 [http-nio-8099-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 13:26:40 [http-nio-8099-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/mfa/totp/verify
2025-11-04 13:26:40 [http-nio-8099-exec-2] INFO  c.s.a.controller.MfaController - Verify TOTP: sessionId=b571555f-a59f-419f-8c06-2da0290b2dfc
2025-11-04 13:26:40 [http-nio-8099-exec-2] INFO  c.strade.auth_app.service.MfaService - Verifying TOTP for sessionId: b571555f-a59f-419f-8c06-2da0290b2dfc
2025-11-04 13:26:41 [http-nio-8099-exec-2] ERROR c.s.a.e.GlobalExceptionHandler - AuthException: code=4002, message=Session is not pending MFA
2025-11-04 13:26:41 [http-nio-8099-exec-2] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/mfa/totp/verify - Status: 401 - Duration: 592ms
2025-11-04 13:33:09 [http-nio-8099-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/transaction/otp/send
2025-11-04 13:33:09 [http-nio-8099-exec-6] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 13:33:09 [http-nio-8099-exec-6] WARN  c.s.a.security.jwt.JwtValidator - Session is not active: 7a8f3da3-5f09-4379-86f2-46d7fb22f976
2025-11-04 13:33:09 [http-nio-8099-exec-6] WARN  c.s.a.s.f.JwtAuthenticationFilter - Token validation failed: Session is no longer active
2025-11-04 13:33:09 [http-nio-8099-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 13:33:09 [http-nio-8099-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/transaction/otp/send
2025-11-04 13:33:09 [http-nio-8099-exec-6] INFO  c.s.a.c.TransactionOtpController - Transaction OTP send request: purpose=withdrawal, reference=test
2025-11-04 13:33:09 [http-nio-8099-exec-6] INFO  c.s.a.service.TransactionOtpService - Sending transaction OTP: userId=VT0101, purpose=withdrawal, reference=test
2025-11-04 13:33:09 [http-nio-8099-exec-6] WARN  c.s.a.service.TransactionOtpService - Phone number not found for clientId=null, skipping WhatsApp send
2025-11-04 13:33:09 [http-nio-8099-exec-6] INFO  c.s.a.r.p.i.MfaProcedureRepositoryImpl - OTP challenge created: 86A7CBDB-8DAC-4167-8890-E9267A3E054D
2025-11-04 13:33:09 [http-nio-8099-exec-6] INFO  c.s.a.service.TransactionOtpService - Transaction OTP challenge created: challengeId=86a7cbdb-8dac-4167-8890-e9267a3e054d
2025-11-04 13:33:09 [http-nio-8099-exec-6] INFO  c.s.a.service.TransactionOtpService - WhatsApp send skipped due to missing phone number: challengeId=86a7cbdb-8dac-4167-8890-e9267a3e054d
2025-11-04 13:33:09 [http-nio-8099-exec-6] INFO  c.strade.auth_app.config.AsyncConfig - Async executor initialized: corePoolSize=5, maxPoolSize=10
2025-11-04 13:33:09 [http-nio-8099-exec-6] INFO  c.s.a.c.TransactionOtpController - Transaction OTP sent successfully: challengeId=86a7cbdb-8dac-4167-8890-e9267a3e054d
2025-11-04 13:33:09 [http-nio-8099-exec-6] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/transaction/otp/send - Status: 200 - Duration: 202ms
2025-11-04 13:33:13 [http-nio-8099-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/transaction/otp/verify
2025-11-04 13:33:13 [http-nio-8099-exec-7] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 13:33:13 [http-nio-8099-exec-7] WARN  c.s.a.security.jwt.JwtValidator - Session is not active: 7a8f3da3-5f09-4379-86f2-46d7fb22f976
2025-11-04 13:33:13 [http-nio-8099-exec-7] WARN  c.s.a.s.f.JwtAuthenticationFilter - Token validation failed: Session is no longer active
2025-11-04 13:33:13 [http-nio-8099-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 13:33:13 [http-nio-8099-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/transaction/otp/verify
2025-11-04 13:33:13 [http-nio-8099-exec-7] INFO  c.s.a.c.TransactionOtpController - Transaction OTP verification request: challengeId=86a7cbdb-8dac-4167-8890-e9267a3e054d
2025-11-04 13:33:13 [http-nio-8099-exec-7] INFO  c.s.a.service.TransactionOtpService - Verifying transaction OTP: challengeId=86a7cbdb-8dac-4167-8890-e9267a3e054d
2025-11-04 13:33:13 [http-nio-8099-exec-7] INFO  c.s.a.r.p.i.MfaProcedureRepositoryImpl - OTP challenge verified successfully: challengeId=86a7cbdb-8dac-4167-8890-e9267a3e054d
2025-11-04 13:33:13 [http-nio-8099-exec-7] INFO  c.s.a.service.TransactionOtpService - Transaction OTP verified successfully: challengeId=86a7cbdb-8dac-4167-8890-e9267a3e054d
2025-11-04 13:33:13 [http-nio-8099-exec-7] INFO  c.s.a.c.TransactionOtpController - Transaction OTP verified successfully: challengeId=86a7cbdb-8dac-4167-8890-e9267a3e054d
2025-11-04 13:33:13 [http-nio-8099-exec-7] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/transaction/otp/verify - Status: 200 - Duration: 515ms
2025-11-04 13:51:46 [http-nio-8099-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/auth/login
2025-11-04 13:51:46 [http-nio-8099-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 13:51:46 [http-nio-8099-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/auth/login
2025-11-04 13:51:46 [http-nio-8099-exec-10] INFO  c.s.a.controller.AuthController - Login request: userId=VT0103, channel=WEB
2025-11-04 13:51:49 [http-nio-8099-exec-10] INFO  c.s.auth_app.service.AuthService - Login attempt: userId=VT0103, channel=WEB
2025-11-04 13:51:51 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - === SelectUser_Logon Parameters ===
2025-11-04 13:51:51 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - UserId: VT0103
2025-11-04 13:51:51 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - Password: ***
2025-11-04 13:51:51 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - Channel: WEB
2025-11-04 13:51:51 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - AppVersion: 1.1.0.8
2025-11-04 13:51:51 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - ServerNo: 1
2025-11-04 13:51:51 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - TerminalId: |04720149-9d2f-48|WB
2025-11-04 13:51:51 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - AppCode: IDXM02
2025-11-04 13:51:51 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - DeviceId: DEV-WEB-12345
2025-11-04 13:51:51 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - UserAgent: PostmanRuntime/7.49.1
2025-11-04 13:51:51 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MfaEnforced: true
2025-11-04 13:51:51 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MinLoginHour: 1
2025-11-04 13:51:51 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MinLoginMinute: 0
2025-11-04 13:51:51 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - ====================================
2025-11-04 13:51:52 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - === Raw SP Result ===
2025-11-04 13:51:52 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - Key: #result-set-1 = [{IsLoginSucces=true, LoginMessage=MFA required, ErrCode=1100, DBVersion=, Channel=WEB, SessionId=AD4DBAF7-116F-4B18-BC69-94B00AF32874, Kid=strade-key-2025-001, MfaRequired=1, MyToken=null}]
2025-11-04 13:51:52 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl -   â””â”€ List size: 1
2025-11-04 13:51:52 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - =====================
2025-11-04 13:51:52 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - === Extracted Data ===
2025-11-04 13:51:52 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - IsLoginSucces = true
2025-11-04 13:51:52 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - LoginMessage = MFA required
2025-11-04 13:51:52 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - ErrCode = 1100
2025-11-04 13:51:52 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - DBVersion = 
2025-11-04 13:51:52 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - Channel = WEB
2025-11-04 13:51:52 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - SessionId = AD4DBAF7-116F-4B18-BC69-94B00AF32874
2025-11-04 13:51:52 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - Kid = strade-key-2025-001
2025-11-04 13:51:52 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MfaRequired = 1
2025-11-04 13:51:52 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MyToken = null
2025-11-04 13:51:52 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - ======================
2025-11-04 13:51:52 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - === Mapped Result ===
2025-11-04 13:51:52 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - IsLoginSuccess: true
2025-11-04 13:51:52 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - LoginMessage: MFA required
2025-11-04 13:51:52 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - ErrCode: 1100
2025-11-04 13:51:52 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - SessionId: ad4dbaf7-116f-4b18-bc69-94b00af32874
2025-11-04 13:51:52 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MfaRequired: true
2025-11-04 13:51:52 [http-nio-8099-exec-10] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - =====================
2025-11-04 13:51:52 [http-nio-8099-exec-10] INFO  c.s.auth_app.service.AuthService - MFA required for userId: VT0103, sessionId: ad4dbaf7-116f-4b18-bc69-94b00af32874
2025-11-04 13:51:52 [http-nio-8099-exec-10] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/auth/login - Status: 200 - Duration: 6609ms
2025-11-04 14:10:37 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=18m5s448ms).
2025-11-04 14:10:47 [http-nio-8099-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/mfa/totp/activate
2025-11-04 14:10:47 [http-nio-8099-exec-2] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 14:10:47 [http-nio-8099-exec-2] WARN  c.s.a.security.jwt.JwtValidator - Session is not active: 7a8f3da3-5f09-4379-86f2-46d7fb22f976
2025-11-04 14:10:47 [http-nio-8099-exec-2] WARN  c.s.a.s.f.JwtAuthenticationFilter - Token validation failed: Session is no longer active
2025-11-04 14:10:47 [http-nio-8099-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 14:10:47 [http-nio-8099-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/mfa/totp/activate
2025-11-04 14:10:47 [http-nio-8099-exec-2] ERROR c.s.a.e.GlobalExceptionHandler - AuthException: code=1011, message=UserId mismatch with session
2025-11-04 14:10:47 [http-nio-8099-exec-2] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/mfa/totp/activate - Status: 400 - Duration: 96ms
2025-11-04 14:11:05 [http-nio-8099-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/mfa/totp/activate
2025-11-04 14:11:06 [http-nio-8099-exec-5] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 14:11:06 [http-nio-8099-exec-5] WARN  c.s.a.security.jwt.JwtValidator - Session is not active: 7a8f3da3-5f09-4379-86f2-46d7fb22f976
2025-11-04 14:11:06 [http-nio-8099-exec-5] WARN  c.s.a.s.f.JwtAuthenticationFilter - Token validation failed: Session is no longer active
2025-11-04 14:11:06 [http-nio-8099-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 14:11:06 [http-nio-8099-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/mfa/totp/activate
2025-11-04 14:11:06 [http-nio-8099-exec-5] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/mfa/totp/activate - Status: 400 - Duration: 59ms
2025-11-04 14:30:06 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-04 14:30:06 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-04 14:30:06 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 14:30:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-04 14:30:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-04 14:30:12 [main] INFO  c.strade.auth_app.AuthAppApplication - Starting AuthAppApplication using Java 21.0.4 with PID 35995 (/Users/ronz/Downloads/auth-app 2/target/classes started by ronz in /Users/ronz/Downloads/auth-app 2)
2025-11-04 14:30:12 [main] INFO  c.strade.auth_app.AuthAppApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 14:30:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-04 14:30:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 14:30:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 137 ms. Found 15 JPA repository interfaces.
2025-11-04 14:30:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-04 14:30:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-04 14:30:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.AccessTokenDenyJtiRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 14:30:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.AuthEventLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 14:30:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.BridgingClientUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 14:30:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.ClientRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 14:30:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.KeyStoreRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 14:30:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.LogLoginRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 14:30:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.LoginShadowRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 14:30:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.NotificationQueueRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 14:30:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.OtpChallengeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 14:30:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.RefreshTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 14:30:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.SessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 14:30:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.TrustedDeviceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 14:30:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.UserMfaBackupCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 14:30:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.UserMfaRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 14:30:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.strade.auth_app.repository.jpa.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-04 14:30:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-11-04 14:30:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8099 (http)
2025-11-04 14:30:14 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 14:30:14 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-04 14:30:14 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 14:30:14 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2431 ms
2025-11-04 14:30:15 [main] INFO  c.s.a.config.JwtKeyConfiguration - ðŸ”‘ Loading private key from: classpath:keys/private_key.pem
2025-11-04 14:30:15 [main] INFO  c.s.auth_app.security.jwt.KeyManager - Loading private key from resource: classpath:keys/private_key.pem
2025-11-04 14:30:15 [main] INFO  c.s.a.config.JwtKeyConfiguration - ðŸ”‘ Loading public key from: classpath:keys/public_key.pem
2025-11-04 14:30:15 [main] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: classpath:keys/public_key.pem
2025-11-04 14:30:15 [main] INFO  c.s.a.config.JwtKeyConfiguration - âœ… KeyManager bean created with RSA key pair
2025-11-04 14:30:15 [main] INFO  c.s.auth_app.security.jwt.KeyManager - KeyManager initialized with RSA key pair
2025-11-04 14:30:15 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 14:30:15 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-11-04 14:30:15 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 14:30:15 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 14:30:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-04 14:30:16 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection ConnectionID:1 ClientConnectionId: b7b2ed4f-9e19-43c3-a9a5-af9a27bc6c42
2025-11-04 14:30:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-04 14:30:16 [main] WARN  org.hibernate.dialect.Dialect - HHH000511: The 10.0.0 version for [org.hibernate.dialect.SQLServerDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 11.0.0. Check the community dialects project for available legacy versions.
2025-11-04 14:30:16 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: SQLServerDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 14:30:16 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 10.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 14:30:17 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 14:30:17 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 14:30:17 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-04 14:30:19 [main] INFO  c.s.a.r.p.i.DeviceProcedureRepositoryImpl - ðŸ”§ Initializing DeviceProcedureRepository stored procedure calls
2025-11-04 14:30:19 [main] INFO  c.s.a.r.p.i.DeviceProcedureRepositoryImpl - âœ… DeviceProcedureRepository initialized successfully
2025-11-04 14:30:19 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-04 14:30:19 [main] DEBUG o.s.s.c.a.a.c.AuthenticationConfiguration$DefaultPasswordEncoderAuthenticationManagerBuilder - No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-04 14:30:19 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-11-04 14:30:19 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, JwtAuthenticationFilter, RequestLoggingFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-11-04 14:30:20 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8099 (http) with context path '/'
2025-11-04 14:30:20 [main] INFO  c.strade.auth_app.AuthAppApplication - Started AuthAppApplication in 8.656 seconds (process running for 9.321)
2025-11-04 14:30:28 [http-nio-8099-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-04 14:30:28 [http-nio-8099-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-04 14:30:28 [http-nio-8099-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-11-04 14:30:28 [http-nio-8099-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/mfa/totp/activate
2025-11-04 14:30:28 [http-nio-8099-exec-2] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 14:30:28 [http-nio-8099-exec-2] WARN  c.s.a.security.jwt.JwtValidator - Session is not active: 7a8f3da3-5f09-4379-86f2-46d7fb22f976
2025-11-04 14:30:28 [http-nio-8099-exec-2] WARN  c.s.a.s.f.JwtAuthenticationFilter - Token validation failed: Session is no longer active
2025-11-04 14:30:28 [http-nio-8099-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 14:30:28 [http-nio-8099-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/mfa/totp/activate
2025-11-04 14:30:28 [http-nio-8099-exec-2] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/mfa/totp/activate - Status: 400 - Duration: 145ms
2025-11-04 14:30:55 [http-nio-8099-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/mfa/totp/setup
2025-11-04 14:30:55 [http-nio-8099-exec-3] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 14:30:55 [http-nio-8099-exec-3] WARN  c.s.a.security.jwt.JwtValidator - Session is not active: 7a8f3da3-5f09-4379-86f2-46d7fb22f976
2025-11-04 14:30:55 [http-nio-8099-exec-3] WARN  c.s.a.s.f.JwtAuthenticationFilter - Token validation failed: Session is no longer active
2025-11-04 14:30:55 [http-nio-8099-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 14:30:55 [http-nio-8099-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/mfa/totp/setup
2025-11-04 14:30:59 [http-nio-8099-exec-3] INFO  c.s.a.controller.MfaController - Setup TOTP (no-auth mode): userId=VT0103, sessionId=ad4dbaf7-116f-4b18-bc69-94b00af32874
2025-11-04 14:30:59 [http-nio-8099-exec-3] INFO  c.strade.auth_app.service.MfaService - Setting up TOTP for user: VT0103
2025-11-04 14:31:00 [http-nio-8099-exec-3] INFO  c.strade.auth_app.service.MfaService - TOTP setup initiated for user: VT0103
2025-11-04 14:31:00 [http-nio-8099-exec-3] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/mfa/totp/setup - Status: 200 - Duration: 4825ms
2025-11-04 14:32:16 [http-nio-8099-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/mfa/totp/activate
2025-11-04 14:32:16 [http-nio-8099-exec-7] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 14:32:16 [http-nio-8099-exec-7] WARN  c.s.a.security.jwt.JwtValidator - Session is not active: 7a8f3da3-5f09-4379-86f2-46d7fb22f976
2025-11-04 14:32:16 [http-nio-8099-exec-7] WARN  c.s.a.s.f.JwtAuthenticationFilter - Token validation failed: Session is no longer active
2025-11-04 14:32:16 [http-nio-8099-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 14:32:16 [http-nio-8099-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/mfa/totp/activate
2025-11-04 14:32:16 [http-nio-8099-exec-7] INFO  c.s.a.controller.MfaController - Activate TOTP (no-auth mode): userId=VT0103, sessionId=ad4dbaf7-116f-4b18-bc69-94b00af32874
2025-11-04 14:32:16 [http-nio-8099-exec-7] INFO  c.strade.auth_app.service.MfaService - Activating TOTP and completing login for user: VT0103, sessionId: ad4dbaf7-116f-4b18-bc69-94b00af32874
2025-11-04 14:32:16 [http-nio-8099-exec-7] INFO  c.strade.auth_app.config.AsyncConfig - Async executor initialized: corePoolSize=5, maxPoolSize=10
2025-11-04 14:32:16 [http-nio-8099-exec-7] INFO  c.strade.auth_app.service.MfaService - TOTP activated and verified successfully for user: VT0103
2025-11-04 14:32:17 [http-nio-8099-exec-7] INFO  c.strade.auth_app.service.MfaService - MFA login completed successfully: userId=VT0103, sessionId=ad4dbaf7-116f-4b18-bc69-94b00af32874
2025-11-04 14:32:19 [http-nio-8099-exec-7] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/mfa/totp/activate - Status: 200 - Duration: 3134ms
2025-11-04 14:36:21 [http-nio-8099-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/mfa/totp/activate
2025-11-04 14:36:21 [http-nio-8099-exec-10] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 14:36:21 [http-nio-8099-exec-10] WARN  c.s.a.security.jwt.JwtValidator - Session is not active: 7a8f3da3-5f09-4379-86f2-46d7fb22f976
2025-11-04 14:36:21 [http-nio-8099-exec-10] WARN  c.s.a.s.f.JwtAuthenticationFilter - Token validation failed: Session is no longer active
2025-11-04 14:36:21 [http-nio-8099-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 14:36:21 [http-nio-8099-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/mfa/totp/activate
2025-11-04 14:36:21 [http-nio-8099-exec-10] INFO  c.s.a.controller.MfaController - Activate TOTP (no-auth mode): userId=VT0103, sessionId=ad4dbaf7-116f-4b18-bc69-94b00af32874
2025-11-04 14:36:21 [http-nio-8099-exec-10] INFO  c.strade.auth_app.service.MfaService - Activating TOTP and completing login for user: VT0103, sessionId: ad4dbaf7-116f-4b18-bc69-94b00af32874
2025-11-04 14:36:21 [http-nio-8099-exec-10] ERROR c.s.a.e.GlobalExceptionHandler - AuthException: code=4002, message=Session is not pending MFA
2025-11-04 14:36:21 [http-nio-8099-exec-10] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/mfa/totp/activate - Status: 401 - Duration: 55ms
2025-11-04 14:57:40 [http-nio-8099-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/v1/devices
2025-11-04 14:57:40 [http-nio-8099-exec-4] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 14:57:40 [http-nio-8099-exec-4] WARN  c.s.a.security.jwt.JwtValidator - Session is not active: 7a8f3da3-5f09-4379-86f2-46d7fb22f976
2025-11-04 14:57:40 [http-nio-8099-exec-4] WARN  c.s.a.s.f.JwtAuthenticationFilter - Token validation failed: Session is no longer active
2025-11-04 14:57:40 [http-nio-8099-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 14:57:40 [http-nio-8099-exec-4] WARN  c.s.a.s.JwtAuthenticationEntryPoint - Unauthorized access attempt: GET /api/v1/devices
2025-11-04 14:57:40 [http-nio-8099-exec-4] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: GET /api/v1/devices - Status: 401 - Duration: 64ms
2025-11-04 14:58:11 [http-nio-8099-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/v1/devices
2025-11-04 14:58:11 [http-nio-8099-exec-3] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 14:58:11 [http-nio-8099-exec-3] WARN  c.s.a.security.jwt.JwtValidator - Session is not active: 7a8f3da3-5f09-4379-86f2-46d7fb22f976
2025-11-04 14:58:11 [http-nio-8099-exec-3] WARN  c.s.a.s.f.JwtAuthenticationFilter - Token validation failed: Session is no longer active
2025-11-04 14:58:11 [http-nio-8099-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 14:58:11 [http-nio-8099-exec-3] WARN  c.s.a.s.JwtAuthenticationEntryPoint - Unauthorized access attempt: GET /api/v1/devices
2025-11-04 14:58:11 [http-nio-8099-exec-3] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: GET /api/v1/devices - Status: 401 - Duration: 3ms
2025-11-04 14:59:44 [http-nio-8099-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/v1/sessions/current
2025-11-04 14:59:44 [http-nio-8099-exec-7] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 14:59:44 [http-nio-8099-exec-7] WARN  c.s.a.security.jwt.JwtValidator - Session is not active: 7a8f3da3-5f09-4379-86f2-46d7fb22f976
2025-11-04 14:59:44 [http-nio-8099-exec-7] WARN  c.s.a.s.f.JwtAuthenticationFilter - Token validation failed: Session is no longer active
2025-11-04 14:59:44 [http-nio-8099-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 14:59:44 [http-nio-8099-exec-7] WARN  c.s.a.s.JwtAuthenticationEntryPoint - Unauthorized access attempt: GET /api/v1/sessions/current
2025-11-04 14:59:44 [http-nio-8099-exec-7] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: GET /api/v1/sessions/current - Status: 401 - Duration: 13ms
2025-11-04 15:04:11 [http-nio-8099-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/auth/login
2025-11-04 15:04:11 [http-nio-8099-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 15:04:11 [http-nio-8099-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/auth/login
2025-11-04 15:04:11 [http-nio-8099-exec-9] INFO  c.s.a.controller.AuthController - Login request: userId=VT0104, channel=WEB
2025-11-04 15:04:13 [http-nio-8099-exec-9] INFO  c.s.auth_app.service.AuthService - Login attempt: userId=VT0104, channel=WEB
2025-11-04 15:04:15 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - === SelectUser_Logon Parameters ===
2025-11-04 15:04:15 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - UserId: VT0104
2025-11-04 15:04:15 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - Password: ***
2025-11-04 15:04:15 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - Channel: WEB
2025-11-04 15:04:15 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - AppVersion: 1.1.0.8
2025-11-04 15:04:15 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - ServerNo: 1
2025-11-04 15:04:15 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - TerminalId: |04720149-9d2f-48|WB
2025-11-04 15:04:15 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - AppCode: IDXM02
2025-11-04 15:04:15 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - DeviceId: DEV-WEB-12345
2025-11-04 15:04:15 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - UserAgent: PostmanRuntime/7.49.1
2025-11-04 15:04:15 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MfaEnforced: true
2025-11-04 15:04:15 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MinLoginHour: 1
2025-11-04 15:04:15 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MinLoginMinute: 0
2025-11-04 15:04:15 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - ====================================
2025-11-04 15:04:17 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - === Raw SP Result ===
2025-11-04 15:04:17 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - Key: #result-set-1 = [{IsLoginSucces=true, LoginMessage=MFA required, ErrCode=1100, DBVersion=, Channel=WEB, SessionId=474883FF-AB0E-4EB8-A3EF-81870D59D556, Kid=strade-key-2025-001, MfaRequired=1, MyToken=null}]
2025-11-04 15:04:17 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl -   â””â”€ List size: 1
2025-11-04 15:04:17 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - =====================
2025-11-04 15:04:17 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - === Extracted Data ===
2025-11-04 15:04:17 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - IsLoginSucces = true
2025-11-04 15:04:17 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - LoginMessage = MFA required
2025-11-04 15:04:17 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - ErrCode = 1100
2025-11-04 15:04:17 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - DBVersion = 
2025-11-04 15:04:17 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - Channel = WEB
2025-11-04 15:04:17 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - SessionId = 474883FF-AB0E-4EB8-A3EF-81870D59D556
2025-11-04 15:04:17 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - Kid = strade-key-2025-001
2025-11-04 15:04:17 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MfaRequired = 1
2025-11-04 15:04:17 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MyToken = null
2025-11-04 15:04:17 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - ======================
2025-11-04 15:04:17 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - === Mapped Result ===
2025-11-04 15:04:17 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - IsLoginSuccess: true
2025-11-04 15:04:17 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - LoginMessage: MFA required
2025-11-04 15:04:17 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - ErrCode: 1100
2025-11-04 15:04:17 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - SessionId: 474883ff-ab0e-4eb8-a3ef-81870d59d556
2025-11-04 15:04:17 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - MfaRequired: true
2025-11-04 15:04:17 [http-nio-8099-exec-9] INFO  c.s.a.r.p.i.AuthProcedureRepositoryImpl - =====================
2025-11-04 15:04:17 [http-nio-8099-exec-9] INFO  c.s.auth_app.service.AuthService - MFA required for userId: VT0104, sessionId: 474883ff-ab0e-4eb8-a3ef-81870d59d556
2025-11-04 15:04:17 [http-nio-8099-exec-9] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/auth/login - Status: 200 - Duration: 6579ms
2025-11-04 15:04:37 [http-nio-8099-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/mfa/otp/send
2025-11-04 15:04:37 [http-nio-8099-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 15:04:37 [http-nio-8099-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/mfa/otp/send
2025-11-04 15:04:37 [http-nio-8099-exec-1] INFO  c.s.a.controller.MfaController - Send OTP request: sessionId=474883ff-ab0e-4eb8-a3ef-81870d59d556, channel=email
2025-11-04 15:04:37 [http-nio-8099-exec-1] INFO  c.strade.auth_app.service.OtpService - Sending OTP for sessionId: 474883ff-ab0e-4eb8-a3ef-81870d59d556, channel: email
2025-11-04 15:04:37 [http-nio-8099-exec-1] INFO  c.s.a.r.p.i.MfaProcedureRepositoryImpl - OTP challenge created: 21587D5C-9A52-419F-BBDB-169EED2DB26A
2025-11-04 15:04:43 [http-nio-8099-exec-1] INFO  c.strade.auth_app.service.OtpService - OTP challenge created: 21587d5c-9a52-419f-bbdb-169eed2db26a
2025-11-04 15:04:43 [http-nio-8099-exec-1] INFO  c.s.a.s.notification.EmailService - Sending OTP email to sroni898@gmail.com for user VT0104
2025-11-04 15:04:50 [http-nio-8099-exec-1] INFO  c.s.a.s.notification.EmailService - OTP email sent successfully. NotificationId: 71e15777-be9a-4c5c-b458-72b4fb1b5793
2025-11-04 15:04:50 [http-nio-8099-exec-1] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/mfa/otp/send - Status: 200 - Duration: 13232ms
2025-11-04 15:05:39 [http-nio-8099-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/mfa/otp/verify
2025-11-04 15:05:39 [http-nio-8099-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-11-04 15:05:39 [http-nio-8099-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/mfa/otp/verify
2025-11-04 15:05:42 [http-nio-8099-exec-4] INFO  c.s.a.controller.MfaController - Verify OTP request: sessionId=474883ff-ab0e-4eb8-a3ef-81870d59d556, challengeId=21587d5c-9a52-419f-bbdb-169eed2db26a
2025-11-04 15:05:42 [http-nio-8099-exec-4] INFO  c.strade.auth_app.service.MfaService - Verifying OTP for sessionId: 474883ff-ab0e-4eb8-a3ef-81870d59d556, challengeId: 21587d5c-9a52-419f-bbdb-169eed2db26a
2025-11-04 15:05:42 [http-nio-8099-exec-4] INFO  c.strade.auth_app.service.MfaService - OTP verification successful for user: VT0104
2025-11-04 15:05:42 [http-nio-8099-exec-4] INFO  c.strade.auth_app.service.MfaService - MFA login completed successfully: userId=VT0104, sessionId=474883ff-ab0e-4eb8-a3ef-81870d59d556
2025-11-04 15:05:43 [http-nio-8099-exec-4] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/mfa/otp/verify - Status: 200 - Duration: 4770ms
2025-11-04 15:05:57 [http-nio-8099-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/v1/mfa/totp/setup
2025-11-04 15:05:57 [http-nio-8099-exec-5] INFO  c.s.auth_app.security.jwt.KeyManager - Loading public key from resource: data:,-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqC5/GGvgfrTl6H+iZz+c
fjmzKtTw/jioxI3JoA/P2+iADQjISdo8s8D1bRWktlD+gjyOB3k+PKyIQnezi+8H
ZU+mMagHLpBu3cVGOlYUFLhUpGm7h1mSF2jkmyJaXzI+C6MPukwAd85dbZQqfMjd
Uz5oY4HCPZN4PWMzQELb0QExKWcZhrDFgMpmsPkde6ZjVgT20YYxYFtaOJlEHnvS
OTGePyBKkw+rvzGPyHiZvlLxzDbtlY2+coqR+OYqoXZT4gE+wbGTWnalSlmVawNW
Bn4cBFcmnPe2LORsbhXIDkb/JJVlpMnOgOEH6dUG0/iCjLg2WtfFj0gRSb8dMFvg
tQIDAQAB
-----END PUBLIC KEY-----
2025-11-04 15:05:57 [http-nio-8099-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/v1/mfa/totp/setup
2025-11-04 15:06:00 [http-nio-8099-exec-5] ERROR c.s.a.e.GlobalExceptionHandler - AuthException: code=1011, message=Session is not in MFA pending state
2025-11-04 15:06:00 [http-nio-8099-exec-5] INFO  c.s.a.s.filter.RequestLoggingFilter - Request: POST /api/v1/mfa/totp/setup - Status: 400 - Duration: 2805ms
